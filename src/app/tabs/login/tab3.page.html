<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title class="ion-text-center">
      Login
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-card>
    <ion-card-content>
      <ion-title size="large">Ceará Turismo</ion-title>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="forms">
        
          <!-- Input do Telefone -->
          <div>
            <ion-label>E-mail:</ion-label>
            <ion-input type="Email" formControlName="email"></ion-input>
            <ion-text color="danger" *ngIf="form.get('email')?.hasError('required') && form.get('email')?.touched">
              Esse campo é obrigatório! 
              
            </ion-text>
            <ion-text color="danger" *ngIf="form.get('email')?.hasError('pattern') && form.get('email')?.touched">
              Esse campo é obrigatório!
            </ion-text>
          </div>
      
          <!-- Input da Senha -->
          <div>
            <ion-label>Senha:</ion-label>
            <ion-input type="password" formControlName="password">
              <ion-input-password-toggle slot="end"></ion-input-password-toggle>
            </ion-input>
            <ion-text color="danger" *ngIf="form.get('password')?.hasError('required') && form.get('password')?.touched">
              Esse campo é obrigatório!
            </ion-text>
            <ion-text color="danger" *ngIf="form.get('password')?.hasError('minlength') && form.get('password')?.touched">
              A senha deve ter pelo menos 8 caracteres
            </ion-text>
          </div>
        </div>
        <ion-button expand="block" type="submit" [disabled]="form.invalid">Entrar</ion-button>
      </form>
    </ion-card-content>
    <ion-button color="danger" type="submit" [disabled]="!authService.isLoggedIn()" (click)="authService.logout()">Sair</ion-button>
  </ion-card>
</ion-content>
